<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>9906_Promise.race</title>
	<script type="text/javascript">
		/**
		 * var p = Promise.race([p1, p2, p3]);
		 * 上面代码中，只要p1、p2、p3之中有一个实例率先改变状态，p的状态就跟着改变。那个率先改变的 Promise 实例的返回值，就传递给p的回调函数。
		 */
		//下面是一个例子，如果指定时间内没有获得结果，就将Promise的状态变为reject，否则变为resolve。
		const p = Promise.race([
//		fetch('/resource-that-may-take-a-while'),
			new Promise(function (resolve, reject) {
				setTimeout(() => resolve('succeeded'), 3000);
			}),
			new Promise(function (resolve, reject) {
				setTimeout(() => reject(new Error('request timeout')), 5000);
			})
		]);

		/**
		p.then(response => console.log(response));
		p.catch(error => console.log(error));
		*/
		//same as above.
		p.then(response => console.log(response))
		.catch(error => console.log(error));

	</script>
</head>
<body>


</body>
</html>